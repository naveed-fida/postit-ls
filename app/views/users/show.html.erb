<%= render 'shared/content_title', title: "#{@user.username}'s Profile" %>

<div>
  <ul class="nav nav-tabs" role="tablist">
    <li class="<%= "active" if params[:tab].nil? %>"><%= link_to "Posts (#{@user.posts.size})", user_path(@user) %></li>
    <li class="<%= "active" if params[:tab] == 'comments' %>"><%= link_to "Comments (#{@user.comments.size})", user_path(@user, tab: 'comments') %></a></li>
  </ul>

  <div class="tab-content">
    <% if params[:tab].nil? %>
      <% @user.posts.each do |post| %>
        <%= render 'posts/post', post: post %>
      <% end %>
    <% elsif params[:tab] == 'comments' %>
      <% @user.comments.each do |comment| %>
        <%= render 'shared/comment', comment: comment, show_post: true %>
      <% end %>
    <% end %>
  </div>
</div>